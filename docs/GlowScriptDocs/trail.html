<!-- InstanceBegin template="/Templates/template.dwt" codeOutsideHTMLIsLocked="false" --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- InstanceBeginEditable name="doctitle" -->
<title>attaching trail or arrow</title>
<!-- InstanceEndEditable -->
<!-- InstanceBeginEditable name="head" -->
<link href="VisualRef.css" rel="stylesheet" type="text/css" />
<style type="text/css">
<!--
.style1 {font-size: x-large}
.style2 {font-size: xx-large}
-->
</style>
<!-- InstanceEndEditable -->
<link href="VisualRef.css" rel="stylesheet" type="text/css" />
</head>

<body>
<table width="230" height="30" border="0">
  <tr>
    <td width="66"><a name="top" id="top"></a><a href="index.html"><strong>Home</strong></a></td>
    <td width="154"><span class="Normal"><a href="primitives.html"><strong>Pictures</strong></a> of 3D objects</span></td>
  </tr>
</table>
<table width="438" height="30" border="0">
  <tr>
    <td width="151"><select id="menu1" onchange="jumpMenu(this)">
    </select></td>
    <td width="163"><select id="menu2" onchange="jumpMenu(this)">
    </select></td>
    <td width="110"><select id="menu3" onchange="jumpMenu(this)">
    </select></td>
  </tr>
</table>
<table width="454" border="0" cellpadding="0" cellspacing="0">
  <!--DWLayoutDefaultTable-->
  <tr>
    <td width="454" rowspan="2" valign="top"><!-- InstanceBeginEditable name="content" -->
      <div>
        <table width="99%" border="1">
          <tr>
            <td width="77%"><div align="center"><span class="style1 style2"><font color="#0000A0">Attach a trail or arrow</font></span></div></td>
            <td width="23%"><div align="center"><img src="images/trail.png" width="309" height="84" alt="trails" /><a href="arrow.html"></a></div></td>
          </tr>
        </table>
        </div>
    <div>
<p class="Normal"><strong><font color="#0000A0">Attach a trail</font></strong></p>
<p class="Normal">If an object is named &quot;ball&quot;, the following statement will cause  a curve to be drawn along the path of the moving object:</p>
      <div></div>
      <div>
        <p class="program">attach_trail(ball)</p>
        <p class="Normal">By default, the radius of the cross-section of the curve is 0.1 times the size.y of the object, and the color of the curve is the color of the object. You can change this:</p>
        <div></div>
        <div>
          <p class="program">attach_trail(ball, radius=0.1, <br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color=color.white )</p>
          <p class="Normal">You can also specify that only the most recent N points are displayed, which has the effect of giving the object something like a comet's tail:</p>
          <div></div>
          <div>
            <p class="program">attach_trail(ball, retain=30 )</p>
            <p class="Normal">By default, points are added to the trail every time the scene is rendered, which is typically about 30 times per second. No trail is started until you explicitly specify a position of the ball. You can limit the number of points per second (&quot;pps&quot;) to be added to the trail. In the following case, 5 points are added to the trail per second (the maximum value of pps that makes sense is about 30):</p>
            <div></div>
            <div>
              <p class="program">attach_trail(ball, pps=5 )</p>
              <p class="Normal">By default, the trail is a curve (connected points), but you can make a trail of separated spheres:</p>
              <div></div>
              <div>
                <p class="program">attach_trail(ball, type='points' )</p>
                <p class="Normal">Instead of specifying an object whose position is used to add points to the curve or set of spheres, you can specify a function which yields a vector to be used as a position. If you have a function named &quot;center&quot; that returns a vector position, you can say this:</p>
                <div></div>
                <div>
                  <p class="program">def center():<br />
&nbsp;&nbsp;&nbsp;                    return (ball1.pos+ball2.pos)/2<br />
<br />
                  attach_trail(center)                  </p>
<div></div>
<p class="Normal">In summary, you can specify a trail to be constructed as a curve or a set of spheres, using the position of an object or  the vector result of a function. You can specify options to control <span class="attribute">color</span>, <span class="attribute">radius</span>, <span class="attribute">retain</span>, <span class="attribute">pps</span>, and <span class="attribute">type</span>. <span class="attributes">The default for the &quot;curve&quot; option is 0, which makes a thin curve (this works best in the xy plane; if it doesn't give the result you want, set trail_radius to the desired value). </span></p>
<p class="Normal"><span class="attributes">The default for the &quot;points&quot; option is 0.2 times the radius, 0.1 times the height or size.y, of the moving object</span> <span class="attributes"> <em><strong>at the time your create that object</strong></em><strong>.</strong><strong> If you don't assign your own size to an object until after you've created it, you may also need to set radius at that time</strong>. If you change radius during the motion, later portions of the trail will have this radius.</span>You can change <span class="attribute">color</span> or <span class="attribute">radius</span> and the following points will be displayed with the new attributes.</p>
                  <p class="Normal"><strong><font color="#0000A0">start, stop, clear</font></strong></p>
                  <div>
                    <div> </div>
                  </div>
                  <p class="Normal">You can start and stop adding points to a trail, and you can clear the trail (remove the existing points):</p>
                  <div></div>
                  <div>
                    <p class="program">b = attach_trail(ball)<br />
                      ...<br />
                      b.stop()<br />
                      ...<br />
                      b.start()<br />
                      ...<br />
                      b.clear()</p>
                    <p class="Normal">&nbsp;</p>
                    <p class="Normal"><strong><font color="#0000A0">Attach an arrow</font></strong></p>
                    <p class="Normal">You can attach an arrow to a moving object. The following statement will automatically display a green arrow at the current location of the ball. The arrow will have shaftwidth=0.3, and its axis and length  is determined by scale*ball.axis:</p>
                    <div></div>
                    <div>
                      <p class="program">attach_arrow(ball, &quot;axis&quot;, scale=1e3,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                      shaftwidth=0.3, color=color.green)</p>
                      <p class="Normal">The default value of scale is 1, and the default color of the arrow is the color of the ball. You can specify any vector attribute of the moving object, not just &quot;axis&quot;. For example, if you continually update a vector quantity ball.velocity and want to continually display an arrow representing this quantity at the location of the moving ball (with scale=1 and the color of the ball), just say this:</p>
                      <div></div>
                      <div>
                        <p class="program">attach_arrow(ball, &quot;velocity&quot;)</p>
                      </div>
                      <div>
                        <div>
                          <div></div>
                        You can start and stop displaying the arrow:</div>
<div></div>
                        <div>
                          <p class="program">b = attach_arrow(ball)<br />
                            ...<br />
                            b.stop()<br />
                            ...<br />
                            b.start()</p>
                          <p class="Normal"></p>
                          <p class="Normal"><strong><font color="#0000a0">JavaScript</font></strong></p>
                          <p class="Normal">Here is an example of the form to use in  JavaScript:</p>
                          <p class="program">attach_trail(ball, {type:spheres, pps:5})</p>
                        </div>
                      </div>
                    </div>
<div> </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    <!-- InstanceEndEditable --></td>
  </tr>
</table>
<p><a href="#top"><strong>Top of page</strong></a></p>
</body>
<script type="text/javascript" language="javascript" src="navigation.js"></script>
<!-- InstanceEnd --></html>
